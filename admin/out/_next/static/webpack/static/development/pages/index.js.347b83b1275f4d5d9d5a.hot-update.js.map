{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.347b83b1275f4d5d9d5a.hot-update.js","sources":["webpack:///./components/TargetSummary.js","webpack:///./fetchers/targets.js","webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function TargetSummary({target, onDeleteClick}) {\r\n  return (\r\n    <div className=\"uk-card uk-card-default uk-card-hover uk-margin\">\r\n      <div className=\"uk-card-header\">\r\n        <div className=\"uk-grid-small uk-flex-middle\" uk-grid=\"true\">\r\n          <div className=\"uk-width-auto\">\r\n            <span className=\"uk-border\" uk-icon=\"icon: folder; ratio: 2\" />\r\n          </div>\r\n          <div className=\"uk-width-expand\">\r\n            <h3 className=\"uk-card-title uk-margin-remove-bottom uk-text-middle\">{target.path}</h3>\r\n          </div>\r\n          <div className=\"uk-width-auto\">\r\n            <a className=\"uk-close-small\" uk-close=\"true\" onClick={onDeleteClick}></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import httpFetch from '../fetch';\r\nimport config from '../config';\r\n\r\nexport async function fetchTargets(setTargets, setErrorMessage) {\r\n  try {\r\n    const result = await httpFetch(config.apiPrefix + '/resources/targets.json');\r\n    if (result.ok) {\r\n      const targets = await result.json();\r\n      for (let i = 0; i < targets.length; ++i) {\r\n        const target = targets[i];\r\n        const split = target.url.split('://');\r\n        target.kind = split[0];\r\n        target.path = split[1];\r\n      }\r\n      setTargets(targets);\r\n    } else {\r\n      setErrorMessage('Completed fetch but got bad status from resource: ' + result.status);\r\n    }\r\n  } catch (err) {\r\n    setErrorMessage('Could not complete fetch: ' + err);\r\n  }\r\n}\r\n\r\nexport async function fetchTargetDelete(url, setTargets, setErrorMessage) {\r\n\r\n}","import '../node_modules/uikit/dist/css/uikit.min.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { ensureInstalled } from '../setup';\r\nimport { fetchServices } from '../fetchers/services';\r\nimport { fetchTargets, fetchTargetDelete } from '../fetchers/targets';\r\nimport ServiceSummary from '../components/ServiceSummary';\r\nimport TargetSummary from '../components/TargetSummary';\r\nimport Header from '../components/Header';\r\n\r\nasync function handleTargetDeleteClick(target, ev) {\r\n  ev.stopPropagation()\r\n  ev.preventDefault();\r\n  const result = await fetchTargetDelete(target.url);\r\n  console.log('result', result);\r\n  return false;\r\n}\r\n\r\nexport default function Home() {\r\n  const [services, setServices] = useState([]);\r\n  const [targets, setTargets] = useState([]);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  useEffect(() => {\r\n    ensureInstalled();\r\n    fetchServices(setServices, setErrorMessage);\r\n    fetchTargets(setTargets, setErrorMessage);\r\n  }, []);\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      fetchServices(setServices, setErrorMessage);\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n  return (\r\n    <div className=\"uk-container\">\r\n      <Header title=\"Your Mediasummon Dashboard\" />\r\n      {errorMessage ? \r\n        <div className=\"uk-alert-danger\" uk-alert=\"true\">\r\n          <a className=\"uk-alert-close\" uk-close=\"true\"></a>\r\n          <p><span uk-icon=\"warning\" /> {errorMessage}</p>\r\n        </div> : null}\r\n      <div className=\"uk-section uk-section-default uk-padding-remove-top\">\r\n        <h3>Target locations to sync media to</h3>\r\n        {targets.map(target => {\r\n          return <TargetSummary key={target.url} target={target} onDeleteClick={handleTargetDeleteClick.bind(this, target)} />;\r\n        })}\r\n      </div>\r\n      <div className=\"uk-section uk-section-default uk-padding-remove\">\r\n        <h3>Services to sync</h3>\r\n        {services.map(service => {\r\n          return <ServiceSummary key={service.metadata.id} service={service} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;;;;;;;;;;;;;;;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;;;;;;;;ACpBA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAXA;AAAA;AACA;AADA;AAaA;AACA;AAdA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAoBA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAQA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;;;;A","sourceRoot":""}
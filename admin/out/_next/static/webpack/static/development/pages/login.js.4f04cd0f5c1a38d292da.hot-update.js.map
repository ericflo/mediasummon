{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.4f04cd0f5c1a38d292da.hot-update.js","sources":["webpack:///./fetchers/common.js"],"sourcesContent":["var authToken = undefined;\r\n\r\nexport async function loadAuthToken() {\r\n  if (authToken !== undefined) {\r\n    return authToken;\r\n  }\r\n  if (typeof localStorage !== 'object') {\r\n    authToken = null;\r\n    return authToken;\r\n  }\r\n  try {\r\n    authToken = await localStorage.getItem('authToken');\r\n  } catch (err) {\r\n    console.log('Error loading authToken from local storage');\r\n    return authToken;\r\n  }\r\n  return authToken;\r\n}\r\n\r\nexport function setAuthToken(token) {\r\n  authToken = token;\r\n  if (typeof localStorage !== 'object') {\r\n    return;\r\n  }\r\n  try {\r\n    localStorage.setItem('authToken', token);\r\n  } catch (err) {\r\n    console.log('Error saving auth token to local storage')\r\n  }\r\n}\r\n\r\nexport function withAuthHeaders(headers) {\r\n  if (authToken) {\r\n    headers['Authorization'] = 'Bearer ' + authToken;\r\n  }\r\n  return headers;\r\n}\r\n\r\nexport async function extractMessageFromJSONError(resp) {\r\n  try {\r\n    const errJson = await resp.json();\r\n    if (errJson.error) {\r\n      return errJson.error;\r\n    }\r\n    return 'Completed fetch but got error from resource: ' + errJson;\r\n  } catch (err) {\r\n    return 'Completed fetch but got bad status from resource: ' + resp.status + ' (' + err + ')';\r\n  }\r\n}\r\n\r\nexport async function throwMessageFromJSONError(resp) {\r\n  const msg = await extractMessageFromJSONError(resp);\r\n  throw msg;\r\n}\r\n\r\nexport function encodeQuery(params) {\r\n  return Object.keys(params).map((key) => {\r\n    return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\r\n  }).join('&');\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AASA;AATA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AAXA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAiBA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAYA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAKA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}